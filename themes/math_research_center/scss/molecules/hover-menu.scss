@charset "UTF-8";

///
/// HOVER MAIN MENU COMPONENT
///
// Decanter
@import 'decanter-no-markup';
// Stanford Math Research Center
@import '../utilities/mixins/mixins';

// Main menu in header region
.js .decanter-main-menu--hover-reveal {
  &.menu--main {
    box-shadow: none;

    @include media($medium-screen) {
      float: right;
      height: 40px;
    }

    a:hover,
    a.is-active,
    .menu-item--active-trail a,
    a.ui-state-active {
      border-bottom: solid 3px $color-black;
    }
  }

  .decanter-nav-primary {
    border: none;

    &.ui-menu {
      &.ui-widget-content {
        background: $color-black;

        @include media($medium-screen) {
          background: none;
        }

        &.ui-widget {
          border: none;
        }

        .ui-icon {
          background-image: none;
        }

        .ui-widget {
          background: $color-black;

          @include padding(1em);
        }
      }

      .ui-menu-item-wrapper {
        @include margin(0 1.5em 0 0);
        @include padding(3px 0 0);
      }
    }

    > li > a {
      font-weight: $font-normal;

      @media (min-width: 951px) {
        font-size: $base-font-size;
      }

      & .ui-menu-icon {
        right: -18px;
        top: -23px;
        -webkit-transform: rotate(90deg);
        transform: rotate(90deg);
      }
    }

    .ui-state-active,
    .ui-widget-content .ui-state-active,
    .ui-widget-header .ui-state-active,
    a.ui-button:active,
    .ui-button:active,
    .ui-button.ui-state-active:hover {
      background-color: transparent;
      border: none;
      color: $color-cloud;

      @include media($medium-screen) {
        color: $color-black;
      }
    }

    .decanter-nav-submenu {
      .menu-item a {
        border-bottom: none;
        color: $color-white;

        @include margin(0 1.5em 10px 0);
        @include padding(0);

        @include media($medium-screen) {
          @include margin(0 0 10px 0);
        }

        &:hover {
          background-color: transparent;
          border: none;
          color: $color-cloud;
          text-decoration: underline;
        }

        &.is-active {
          color: $color-cloud;
        }
      }

      .ui-state-active,
      .ui-widget-content .ui-state-active
      a.ui-button:active,
      .ui-button:active,
      .ui-button.ui-state-active:hover {
        background-color: transparent;
        color: $color-cloud;
        text-decoration: underline;
      }
    }
  }

  ul ul {
    display: none;

    li {
      position: relative;
      display: block;
    }

    ul {
      left: 100%;
      top: 0;
    }
  }
}

// Mobile styles for the main menu in header
// region
.decanter-main-menu--hover-reveal {
  .ui-widget .fa {
    font: normal normal normal 14px/1 FontAwesome;
  }

  button {
    width: auto;
  }

  > ul {
    display: none;

    &.expanded {
      display: block;

      li a {
        color: $color-white;
      }

      ul button {
        color: $color-white;

        @include margin(null null null 1.5em);
      }
    }
  }

  &.menu--main li {
    display: block;

    @include padding(0.2em null null 0.75em);
  }

  @include media($medium-screen) {
    button {
      display: none;
    }

    > ul {
      display: block;
    }

    &.menu--main li {
      display: inline-block;

      @include padding(0.2em null null 0);
    }
  }
}

.decanter-nav-primary > li > a:hover {
  color: $color-cloud;

  @include media($medium-screen) {
    color: $color-black;
  }
}

// Subnavigation - no JavaScript
// No JavaScript is applied to the menu when
// it does not appear in the Header region.
.js .main-container {
  .menu--main {
    float: none;

    @include media(max-width $medium-screen) {
      display: none;
    }

    h2#menu-blockmain-menu {
      @include margin(0 null null);

      a {
        font-size: $h2-font-size;
        font-weight: $font-bold;
      }
    }

    a {
      font-weight: $font-bold;
      text-decoration: none;

      @include padding(0 0 5px 10px);

      &:hover,
      &.is-active,
      &.ui-state-active {
        border-bottom: none;
      }

      &.is-active {
        border-left: 2px solid $color-black;
      }
    }

    ul {
      @include margin(null null 0);

      li {
        display: block;
      }
    }

    .menu-item--active-trail {
      a {
        border-bottom: none;
        color: $color-bright-red;

        &:hover {
          color: $color-black;
        }

        &.is-active {
          color: $color-black;
          font-weight: $font-bold;
        }
      }

      &.menu-item--expanded > a {
        border-left: 2px solid $color-black;
        color: #2e2d29;
        font-weight: $font-bold;
      }

      ul.menu .menu-item a.is-active {
        border-left: none;
        color: $color-black;
        font-weight: $font-bold;
      }
    }

    ul.menu ul.menu .menu-item a {
      font-weight: $font-normal;

      @include padding(null null null 20px);
    }
  }
}

// Styles for no JavaScript
.no-js .decanter-main-menu--hover-reveal {
  float:right;
  height: 50px;

  ul li {
    display: inline-block;

    &:first-child {
      @include padding(null null null 0);
    }

    &:last-child {
      @include padding(null 0 null null);
    }

    ul {
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s, opacity 0.2s linear;
      position: absolute;
      background: $color-white;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.35);
      border-radius: 0.25em;
      z-index: 99;

      @include margin(0);
      @include padding(0.5em);

      li {
        position: relative;
        display: block;

        @include margin(0);
        @include padding(0);
      }

      a {
        font-weight: normal;
        color: $color-bright-red;
        display: block;
        border-radius: 0.25em;

        @include padding(0.5em);

        &:hover {
          border-bottom: none;
          color: $color-black;
          background: $color-cool-grey;

          @include padding(null null 0.5em);
        }
      }

      ul {
        left: calc(100% - 10px);

        @include margin((-45px) null null);
      }
    }

    &:hover > ul, ul.focused {
      visibility: visible;
      opacity: 1;
    }
  }

  a {
    color: $color-bright-red;
    font-weight: $font-bold;
    text-decoration: none;

    @include padding(1em 3px 0);

    &:hover {
      border-bottom: 2px solid $color-black;
      color: $color-black;
    }
  }
}
